@model UserViewModel
@{
    ViewData["Title"] = "Profile";
}

<div class="container mt-3">
    <div class="row">
        <div class="col-md-4">
            <div class="card bg-dark text-white" style="max-height:200px;">
                <img src="@Model.user.AvatarUrl" class="card-img-top" alt="User Avatar" style="max-height:200px; max-width:200px">
                @if (Model.IsFriend)
                {
                    <button class="btn btn-secondary" onclick="DeleteFriends('@Model.user.Id')">Remove from friends</button>
                }
                else{
                    @if (Model.IsRequested == true)
                    {
                        <button class="btn btn-secondary">Allready Sended</button>
                    }
                    else
                    {
                        @if (Model.IsAnotherUser == true)
                        {
                            <button class="btn btn-secondary" onclick="AddToFriend('@Model.user.Id')">Add to friend</button>
                        }
                    }
                }
                

                <div class="card-body">
                    <h5 class="card-title ">@Model.user.UserName</h5>
                </div>
                <ul class="list-group list-group-flush">
                    @if (Model.games is null || Model.games.Any() == false)
                    {
                        <li class="list-group-item bg-dark text-white">No games</li>
                    }
                    else
                    {
                        foreach (var item in Model.games)
                        {
                            <li class="list-group-item bg-dark text-white" onclick="GoToWithId('/Game/GetById',@item.Id)">
                                <img src="@item.GameImageUrl" alt="Game Image" style="max-height: 100px;max-width: 100px;"> @item.Title
                            </li>
                        }
                    }
                </ul>
                <ul class="list-group list-group-flush">
                    @if (Model.groups is null || Model.groups.Any() == false)
                    {
                        <li class="list-group-item bg-dark text-white">No groups</li>
                    }
                    else
                    {
                        foreach (var item in Model.groups)
                        {
                            <li class="list-group-item bg-dark text-white">
                                <img src="@item.GroupImageUrl" alt="Group Image" style="max-height: 100px;max-width: 100px;"> @item.Name
                            </li>
                        }
                    }
                </ul>
                <ul class="list-group list-group-flush">
                    @if (Model.Friends is null || Model.Friends.Any() == false)
                    {
                        <li class="list-group-item bg-dark text-white">No friends</li>
                    }
                    else
                    {
                        foreach (var item in Model.Friends)
                        {
                            <li class="list-group-item bg-dark text-white">
                                <img src="@item.AvatarUrl" alt="Group Image" style="max-height: 100px;max-width: 100px;"> @item.UserName
                            </li>
                        }
                    }
                </ul>
               
            </div>
        </div>
    </div>
</div>